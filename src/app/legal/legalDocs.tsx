import type { ReactNode } from 'react';

export type LegalDocId = 'terms' | 'privacy' | 'consent' | 'medical';

export interface LegalDoc {
  id: LegalDocId;
  title: string;
  shortTitle: string;
  version: string;
  effectiveDate: string;
  summary: string;
  content: ReactNode;
}

export const LEGAL_VERSION = '1.1';
export const LEGAL_EFFECTIVE_DATE = '13 февраля 2026';
export const OPERATOR_NAME = 'Сыцевич Никита Владимирович';
export const OPERATOR_EMAIL = 'nikitka.sytsevich@icloud.com';
export const OPERATOR_ADDRESS = 'Республика Беларусь, Брестская обл., Лунинецкий р-н, г. Микашевичи, ул. Строителей 7А, кв. 59';
export const APP_NAME = 'Body Tweaker';

const sectionTitle = 'text-sm font-bold text-slate-800 dark:text-white';
const paragraph = 'text-sm text-slate-600 dark:text-slate-300 leading-relaxed';
const list = 'list-disc pl-5 space-y-2 text-sm text-slate-600 dark:text-slate-300';

export const LEGAL_DOCS: LegalDoc[] = [
  {
    id: 'terms',
    title: 'Пользовательское соглашение',
    shortTitle: 'Пользовательское соглашение',
    version: LEGAL_VERSION,
    effectiveDate: LEGAL_EFFECTIVE_DATE,
    summary: 'Правила использования приложения и ограничения ответственности.',
    content: (
      <div className="space-y-4">
        <p className={paragraph}>
          Настоящее Пользовательское соглашение (далее — «Соглашение») регулирует порядок
          использования приложения {APP_NAME}. Используя приложение или нажимая «Принять»,
          вы подтверждаете, что ознакомились и согласны с условиями Соглашения.
        </p>

        <div className="space-y-2">
          <h4 className={sectionTitle}>1. Общие положения</h4>
          <p className={paragraph}>
            Оператор приложения: {OPERATOR_NAME}, адрес: {OPERATOR_ADDRESS}, e-mail для обращений: {OPERATOR_EMAIL}.
            Приложение предназначено для информационных целей и самоконтроля.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>2. Предмет Соглашения</h4>
          <p className={paragraph}>
            Приложение предоставляет инструменты для ведения дневника, таймеры и справочные
            материалы по интервальному голоданию, дыхательным практикам и биоритмам.
            Приложение не является медицинским изделием и не оказывает медицинские услуги.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>3. Доступ и использование</h4>
          <p className={paragraph}>
            Доступ осуществляется через Telegram Mini App. Регистрация и создание аккаунта
            в приложении не требуются. Часть функций может зависеть от возможностей Telegram.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>4. Возраст и безопасность</h4>
          <p className={paragraph}>
            Приложение предназначено для лиц старше 18 лет. Пользователь подтверждает, что не
            имеет противопоказаний и использует приложение на свой риск.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>5. Права и обязанности пользователя</h4>
          <ul className={list}>
            <li>Использовать приложение добросовестно и безопасно.</li>
            <li>Не полагаться на материалы приложения как на медицинские рекомендации.</li>
            <li>Самостоятельно оценивать риски и при необходимости обращаться к врачу.</li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>6. Ограничение ответственности</h4>
          <p className={paragraph}>
            Приложение предоставляется «как есть». Оператор не несет ответственности за
            возможный вред здоровью или иные последствия использования материалов приложения.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>7. Интеллектуальная собственность</h4>
          <p className={paragraph}>
            Все права на контент, дизайн и программный код приложения принадлежат Оператору
            или законным правообладателям. Копирование и распространение без разрешения запрещены.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>8. Изменения и контакты</h4>
          <p className={paragraph}>
            Оператор вправе обновлять Соглашение. Актуальная версия доступна в приложении.
            По вопросам обращайтесь на {OPERATOR_EMAIL}. Продолжение использования приложения
            после обновления документов означает ознакомление с новой редакцией.
          </p>
        </div>
        <div className="space-y-2">
          <h4 className={sectionTitle}>9. Применимое право</h4>
          <p className={paragraph}>
            К настоящему Соглашению применяется право Республики Беларусь.
          </p>
        </div>
      </div>
    )
  },
  {
    id: 'privacy',
    title: 'Политика конфиденциальности',
    shortTitle: 'Политика конфиденциальности',
    version: LEGAL_VERSION,
    effectiveDate: LEGAL_EFFECTIVE_DATE,
    summary: 'Как обрабатываются и защищаются ваши данные.',
    content: (
      <div className="space-y-4">
        <p className={paragraph}>
          Настоящая Политика описывает, какие данные обрабатываются при использовании
          приложения {APP_NAME}, как они хранятся и какие у пользователя есть права.
        </p>

        <div className="space-y-2">
          <h4 className={sectionTitle}>1. Оператор</h4>
          <p className={paragraph}>
            Оператор персональных данных: {OPERATOR_NAME}, адрес: {OPERATOR_ADDRESS}, e-mail: {OPERATOR_EMAIL}.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>2. Какие данные обрабатываются</h4>
          <ul className={list}>
            <li>Данные Telegram профиля, доступные приложению: имя, username, фото профиля.</li>
            <li>Данные, вводимые пользователем: история голодания, сессии дыхания, настройки.</li>
            <li>Технические данные, передаваемые браузером при загрузке внешних ресурсов (например, IP, user-agent).</li>
            <li>
              Технические события использования приложения (например, данные веб-аналитики)
              и данные об ошибках приложения при включенном мониторинге.
            </li>
            <li>Сведения, которые могут относиться к состоянию здоровья, если пользователь вводит их в приложении.</li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>3. Правовые основания и цели</h4>
          <ul className={list}>
            <li>
              Основное правовое основание — согласие субъекта персональных данных
              (Закон Республики Беларусь от 07.05.2021 № 99-З «О защите персональных данных»).
            </li>
            <li>Цели: предоставление функционала приложения, сохранение истории и настроек, обратная связь по обращениям.</li>
            <li>
              В случаях, прямо предусмотренных законодательством, обработка может осуществляться
              без согласия в пределах, необходимых для соответствующей цели.
            </li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>4. Источники и хранение</h4>
          <ul className={list}>
            <li>Данные хранятся локально на устройстве пользователя.</li>
            <li>При поддержке Telegram Cloud Storage данные могут синхронизироваться в облаке Telegram.</li>
            <li>
              Для отдельных технических целей могут использоваться сторонние сервисы:
              Telegram, Vercel Analytics, Sentry (при включенном DSN мониторинга ошибок).
            </li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>5. Передача третьим лицам</h4>
          <p className={paragraph}>
            Передача персональных данных третьим лицам по инициативе Оператора не осуществляется,
            за исключением случаев использования инфраструктурных сервисов, необходимых для работы приложения
            (Telegram, Vercel Analytics, Sentry), а также случаев, предусмотренных законодательством.
            Указанные сервисы действуют как самостоятельные операторы и/или обработчики данных
            в пределах своих политик конфиденциальности.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>6. Трансграничная передача</h4>
          <p className={paragraph}>
            При использовании Telegram, Vercel Analytics и Sentry возможна трансграничная передача
            персональных данных и технических данных в иностранные государства. В случае передачи
            в государства, где не обеспечивается надлежащий уровень защиты, такие действия осуществляются
            на основании согласия пользователя с учетом возможных рисков.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>7. Сроки хранения</h4>
          <p className={paragraph}>
            Данные хранятся до их удаления пользователем (через функцию «Сбросить все данные»)
            либо до отзыва согласия.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>8. Права пользователя</h4>
          <ul className={list}>
            <li>Запросить информацию об обработке данных.</li>
            <li>Отозвать согласие и удалить данные через настройки приложения.</li>
            <li>Требовать исправления, блокирования или удаления данных при отсутствии оснований для обработки.</li>
            <li>Получать информацию о предоставлении данных третьим лицам (если такое имело место).</li>
            <li>
              Обжаловать действия Оператора в уполномоченный орган по защите прав субъектов
              персональных данных (Национальный центр защиты персональных данных Республики Беларусь) и/или в суд.
            </li>
            <li>Обратиться к Оператору по адресу {OPERATOR_EMAIL}.</li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>9. Порядок реализации прав</h4>
          <p className={paragraph}>
            Для реализации прав субъект подает заявление в письменной форме либо в виде электронного документа.
            В заявлении указываются ФИО, адрес, дата рождения, суть требования и подпись (либо ЭЦП).
            При наличии — идентификационный номер или номер документа, удостоверяющего личность.
            Сроки рассмотрения и исполнения требований определяются законодательством Республики Беларусь.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>10. Безопасность</h4>
          <p className={paragraph}>
            Оператор принимает правовые, организационные и технические меры защиты персональных данных,
            в том числе меры по ограничению несанкционированного доступа. Для синхронизации с Telegram Cloud Storage
            используется инфраструктура и каналы передачи данных Telegram. При использовании сторонних
            сервисов безопасность передачи и хранения данных также определяется их техническими мерами.
          </p>
        </div>
      </div>
    )
  },
  {
    id: 'consent',
    title: 'Согласие на обработку персональных данных',
    shortTitle: 'Согласие на обработку данных',
    version: LEGAL_VERSION,
    effectiveDate: LEGAL_EFFECTIVE_DATE,
    summary: 'Согласие на обработку персональных данных по законодательству Республики Беларусь.',
    content: (
      <div className="space-y-4">
        <p className={paragraph}>
          Настоящим пользователь дает согласие Оператору {OPERATOR_NAME} на обработку
          персональных данных в целях, указанных ниже, в соответствии с Законом Республики Беларусь
          от 07.05.2021 № 99-З «О защите персональных данных».
        </p>

        <div className="space-y-2">
          <h4 className={sectionTitle}>0. Форма выражения согласия</h4>
          <p className={paragraph}>
            Согласие выражается путем проставления отметки (checkbox) и нажатия кнопки
            «Принять и продолжить» в интерфейсе приложения.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>1. Состав персональных данных</h4>
          <ul className={list}>
            <li>Данные Telegram профиля: имя, username, фото профиля.</li>
            <li>Данные использования приложения: история, настройки, введенные пользователем сведения.</li>
            <li>Сведения, которые могут относиться к состоянию здоровья, если пользователь вводит их в приложении.</li>
            <li>
              Технические данные и события, передаваемые инфраструктурным сервисам приложения
              (Telegram, Vercel Analytics, Sentry при включенном мониторинге).
            </li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>2. Действия с данными</h4>
          <p className={paragraph}>
            Сбор, запись, систематизация, накопление, хранение, обновление, использование,
            обезличивание (при необходимости), предоставление, блокирование, удаление.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>3. Цели обработки</h4>
          <ul className={list}>
            <li>Предоставление функционала приложения.</li>
            <li>Сохранение пользовательской истории и настроек.</li>
            <li>Обратная связь по запросам пользователя.</li>
            <li>Обеспечение стабильности работы приложения и анализ технического использования.</li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>4. Специальные персональные данные</h4>
          <p className={paragraph}>
            Пользователь дает согласие на обработку специальных персональных данных (сведения о состоянии здоровья),
            если такие сведения вводятся в приложении.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>5. Трансграничная передача</h4>
          <p className={paragraph}>
            Пользователь дает согласие на трансграничную передачу персональных данных при использовании Telegram и
            облачной синхронизации, включая возможную передачу в государства без надлежащего уровня защиты, и
            проинформирован о соответствующих рисках.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>6. Срок действия согласия</h4>
          <p className={paragraph}>
            Согласие действует до его отзыва, если иное не предусмотрено законодательством.
            Субъект вправе в любое время без объяснения причин отозвать согласие:
            через настройки приложения и/или путем направления заявления на {OPERATOR_EMAIL}.
            При отсутствии иных правовых оснований Оператор прекращает обработку и удаляет данные
            в срок, установленный законодательством Республики Беларусь.
            Отказ от согласия может сделать
            невозможным использование функций приложения.
          </p>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>7. Оператор и контакты</h4>
          <p className={paragraph}>
            Оператор: {OPERATOR_NAME}, адрес: {OPERATOR_ADDRESS}, e-mail: {OPERATOR_EMAIL}.
          </p>
        </div>
      </div>
    )
  },
  {
    id: 'medical',
    title: 'Медицинское предупреждение и ограничения',
    shortTitle: 'Медицинское предупреждение',
    version: LEGAL_VERSION,
    effectiveDate: LEGAL_EFFECTIVE_DATE,
    summary: 'Важно о рисках голодания и дыхательных практик.',
    content: (
      <div className="space-y-4">
        <p className={paragraph}>
          Приложение {APP_NAME} не является медицинским изделием и не заменяет консультацию
          врача. Использование материалов приложения осуществляется на ваш риск.
        </p>

        <div className="space-y-2">
          <h4 className={sectionTitle}>1. Когда нельзя использовать практики</h4>
          <ul className={list}>
            <li>Беременность и период грудного вскармливания.</li>
            <li>Возраст до 18 лет.</li>
            <li>Сахарный диабет, расстройства пищевого поведения.</li>
            <li>Хронические заболевания, требующие регулярного наблюдения.</li>
            <li>Сердечно-сосудистые, неврологические и психические заболевания.</li>
            <li>Прием лекарств, влияющих на обмен веществ, давление или сознание.</li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>2. Безопасность дыхательных практик</h4>
          <ul className={list}>
            <li>Не выполняйте практики во время управления транспортом или в воде.</li>
            <li>При головокружении прекратите практику и восстановите дыхание.</li>
            <li>Выполняйте упражнения в безопасной обстановке.</li>
          </ul>
        </div>

        <div className="space-y-2">
          <h4 className={sectionTitle}>3. Экстренные случаи</h4>
          <p className={paragraph}>
            При ухудшении самочувствия немедленно прекратите практику и обратитесь за
            медицинской помощью. Приложение не предназначено для действий в неотложных состояниях
            и не обеспечивает экстренный вызов медицинских служб.
          </p>
        </div>
      </div>
    )
  }
];

export const getLegalDocById = (id: LegalDocId): LegalDoc | undefined => {
  return LEGAL_DOCS.find((doc) => doc.id === id);
};
